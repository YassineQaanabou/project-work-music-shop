<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <!-- titolo parametrico con operatore ternario che testa se l'id dello user Ã¨ null oppure no -->
      <!-- <h1 th:text="${user.id != null ? 'Edit User' : 'Create User'}"></h1> -->

      <!-- th:action="${user.id != null} ? @{/users/edit/{id}(id = ${user.id})} : @{/users/create}" -->
      <!-- form mappato sull'oggetto strumento -->
      <div class="row">
      <form
        th:action="@{/admin/strumenti/crea}"
        id="strumento"
        method="POST"
        th:object="${strumento}"
      >

          <!-- nome strumenti-->
          <div class="mb-3 col-6">
            <label for="nome-strumento" class="form-label">First Name</label>
            <input
              type="text"
              class="form-control"
              id="nome-strumento"
              th:field="*{nome}"
              th:errorClass="is-invalid"
            />
            <div class="invalid-feedback" th:if="${#fields.hasErrors('nome')}">
              <ul>
                <li
                  th:each="err : ${#fields.errors('nome')}"
                  th:text="${err}"
                ></li>
              </ul>
            </div>
          </div>
          <!-- tipologia strumento -->
          <div class="mb-3 col-5">
            <label for="tipologia" class="form-label">Tipologia:</label>
            <select name="tipologia" id="tipologia" class="form-select">
              <option value="">Seleziona una tipologia</option>
              <option
                th:each="tipologia : ${tipologie}"
                th:value="${tipologia.id}"
                th:text="${tipologia.nome}"
              ></option>
            </select>
          </div>
        
        <!-- url foto nome strumenti-->
        <div class="mb-3 col-12">
          <label for="url-strumento" class="form-label">First Name</label>
          <input
            type="text"
            class="form-control"
            id="url-strumento"
            th:field="*{urlFoto}"
            th:errorClass="is-invalid"
          />
          <div class="invalid-feedback" th:if="${#fields.hasErrors('urlFoto')}">
            <ul>
              <li
                th:each="err : ${#fields.errors('urlFoto')}"
                th:text="${err}"
              ></li>
            </ul>
          </div>
        </div>
        <!-- descrizione strumenti-->
        <div class="mb-3 col-12">
          <label for="descrizione-strumento" class="form-label">Descrizione</label>
          <textarea
                  class="form-control"
                  id="descrizione-strumento"
                  name="descrizione"
                  th:field="*{descrizione}"
                  th:errorClass="is-invalid"
                  rows="4"
          cols="50"
          >
          </textarea>

          <div
            class="invalid-feedback"
            th:if="${#fields.hasErrors('descrizione')}"
          >
            <ul>
              <li
                th:each="err : ${#fields.errors('descrizione')}"
                th:text="${err}"
              ></li>
            </ul>
          </div>
        </div>

<!-- prezzo -->
        <div class="mb-3 col-1">
          <label for="prezzo-strumento" class="form-label">Prezzo</label>
          <input
                  type="number"
                  class="form-control"
                  id="prezzo-strumento"
                  name="prezzo"
                  th:field="*{prezzo}"
                  th:errorClass="is-invalid"
                  step="0.01"
          />
          <div class="invalid-feedback" th:if="${#fields.hasErrors('prezzo')}">
            <ul>
              <li
                      th:each="err : ${#fields.errors('prezzo')}"
                      th:text="${err}"
              ></li>
            </ul>
          </div>
        </div>

        <div>
          <button type="submit" class="btn btn-primary">Save</button>
          <a th:href="@{/users}" class="btn btn-primary">Cancel</a>
        </div>
      </form>
    </div>
</div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
